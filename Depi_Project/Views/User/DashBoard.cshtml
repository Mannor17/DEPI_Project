@model Depi_Project.Models.ViewModels.UserDashboardViewModel

<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>User Dashboard • FitConnect</title>
	<link rel="stylesheet" href="~/css/style.css" />
	<style>
		.gym-card {
			overflow: hidden
		}

			.gym-card img {
				width: 100%;
				height: 220px;
				object-fit: cover;
				border-radius: 14px
			}</style>
</head>
<body>
	<header class="header">
		<div class="container navbar">
			<div class="brand"><div class="logo">🏋️</div> FitConnect</div>
			<nav class="navlinks">
				<a href="/User/Dashboard">Dashboard</a>
				<a href="/User/Profile">Profile</a>
				<a href="/Account/Logout">Logout</a>
			</nav>
		</div>
	</header>

	<section class="section">
		<div class="container">
			<h1 class="section-title">Welcome, @Model.UserName 👋</h1>

			<h2 class="section-title">Featured Gyms</h2>
			<div class="grid grid-3">
				@foreach (var gym in Model.Gyms)
				{
					<div class="card gym-card">
						<img src="@(gym.Media?.FirstOrDefault()?.Url ?? "/assets/default-gym.jpg")" alt="@gym.Name" />
						<div class="card-body">
							<h3>
								@gym.Name <span class="badge gray" style="margin-left:8px">
									@(gym.Reviews?.Any() == true ? gym.Reviews.Average(r => r.Rating).ToString("0.0") : "N/A")
								</span>
							</h3>
							<p class="section-sub" style="margin:6px 0">@gym.Address</p>
							<div style="display:flex;justify-content:space-between;align-items:center">
								<a class="btn btn-primary" href="/Gym/Details/@gym.Id">View Details</a>
							</div>
						</div>
					</div>
				}
			</div>

			<div class="grid grid-3" style="margin-top:26px">
				<div class="card">
					<div class="badge teal">⏰ Upcoming Bookings</div>
					<h2 class="section-title">@Model.UpcomingBookings</h2>
					<p class="section-sub">This week</p>
				</div>
				<div class="card">
					<div class="badge orange">🏋️ Total Gyms</div>
					@* <h2 class="section-title">@Model.TotalGyms</h2> *@
					<p class="section-sub">In the system</p>
				</div>
				<div class="card">
					<div class="badge gray">💳 Total Spent</div>
					<h2 class="section-title">$@Model.TotalSpent</h2>
					<p class="section-sub">Total Paid</p>
				</div>
			</div>
		</div>
	</section>

	<script src="~/js/main.js"></script>
</body>
</html>
