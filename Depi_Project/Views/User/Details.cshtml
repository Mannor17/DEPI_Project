@model GymDetailsViewModel

<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>@Model.Name • FitConnect</title>
	<link rel="stylesheet" href="~/css/style.css" />

	<style>
		/* يخلي اليمين ثابت في مكانه */
		.right-side {
			position: sticky;
			top: 20px;
			height: fit-content;
		}

		/* كارت الجيم */
		.gym-info {
			background: #fff;
			border-radius: 16px;
			padding: 24px;
			box-shadow: 0 4px 12px rgba(0,0,0,0.1);
		}

		/* توزيع الصفحتين */
		.gym-details {
			display: grid;
			grid-template-columns: 2fr 1fr;
			gap: 24px;
			margin-top: 24px;
		}

		/* الجاليري */
		.gym-gallery {
			margin-bottom: 24px;
		}

		.main-image {
			width: 100%;
			height: 400px;
			object-fit: cover;
			border-radius: 12px;
			margin-bottom: 12px;
		}

		.thumbnail-grid {
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			gap: 12px;
		}

		.thumbnail {
			width: 100%;
			height: 120px;
			object-fit: cover;
			border-radius: 8px;
			cursor: pointer;
		}

		/* تبويبات */
		.tab-content .card {
			padding: 30px !important;
		}

		/* Trainer cards */
		.trainer-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
			gap: 20px;
			margin-top: 20px;
			text-align: center;
		}

		.trainer-card {
			background: #fff;
			border-radius: 16px;
			padding: 20px;
			display: flex;
			align-items: center;
			gap: 16px;
			box-shadow: 0 4px 12px rgba(0,0,0,0.08);
			transition: 0.25s ease;
		}

			.trainer-card:hover {
				transform: translateY(-4px);
				box-shadow: 0 6px 18px rgba(0,0,0,0.12);
			}

		.trainer-avatar {
			width: 70px;
			height: 70px;
			border-radius: 50%;
			object-fit: cover;
			background: #eee;
		}

		.trainer-content {
			flex: 1;
		}

		.trainer-name {
			font-size: 20px;
			font-weight: 700;
			margin-bottom: 4px;
			color: #222;
		}

		.trainer-specialty {
			font-size: 14px;
			color: #666;
			margin-bottom: 8px;
		}

		.trainer-stats {
			font-size: 14px;
			margin-bottom: 10px;
			margin-left: 70px;
			display: flex;
			gap: 12px;
			align-items: center;
			text-align: center;
		}

		.trainer-rating {
			color: #f5c518;
			font-weight: 600;
			text-align: center;
		}

		.trainer-sessions {
			color: #555;
		}

		.trainer-btn {
			display: inline-block;
			padding: 6px 14px;
			background: #2563eb;
			color: #fff;
			border-radius: 6px;
			text-decoration: none;
			font-size: 14px;
			transition: 0.2s;
		}

			.trainer-btn:hover {
				background: #1e4ecb;
			}
	</style>
</head>

<body>
	<header class="header">
		<div class="container navbar">
			<div class="brand"><div class="logo">🏋️</div> FitConnect</div>
			<nav class="navlinks">
				<a href="/User/Dashboard">Dashboard</a>
				<a href="/User/Profile">Profile</a>
				<a href="/Account/Logout">Logout</a>
			</nav>
		</div>
	</header>

	<section class="section">
		<div class="container">
			<div class="gym-details">

				<!-- LEFT SIDE -->
				<div>

					<!-- GALLERY -->
					<div class="gym-gallery">
						<img src="@(Model.Images.FirstOrDefault() ?? "~/assets/1.png")"
							 class="main-image" />

						<div class="thumbnail-grid">
							@foreach (var img in Model.Images.Skip(1).Take(4))
							{
								<img src="@img" class="thumbnail" />
							}
						</div>
					</div>

					<!-- TABS -->
					<div class="tabs" style="margin-bottom: 24px;">
						<div class="tab active" data-target="about">About</div>
						<div class="tab" data-target="trainers">Trainers</div>
						<div class="tab" data-target="reviews">Reviews</div>
					</div>

					<!-- ABOUT TAB -->
					<div class="tab-content active" data-tab-panel="about">
						<div class="card">
							<h3>About This Gym</h3>
							<div class="card-body">
								<p>@Model.Description</p>
							</div>
						</div>
					</div>

					<!-- TRAINERS TAB -->
					<div class="tab-content" data-tab-panel="trainers">
						<div class="card">
							<h3>Our Trainers</h3>
							<div class="card-body">

								<div class="trainer-grid">
									@foreach (var t in Model.Trainers)
									{
										<div class="trainer-card">
											<div class="trainer-content">
												<h3 class="trainer-name">@t.Name</h3>
												<p class="trainer-specialty">@t.Bio</p>

												<div class="trainer-stats">
													<span class="trainer-rating">⭐ @t.Rating</span>
													<span class="trainer-sessions">@t.SessionsCount sessions</span>
												</div>

												<a href="/Trainers/Profile/@t.Id" class="trainer-btn">View Profile</a>
											</div>
										</div>
									}
								</div>

								@if (!Model.Trainers.Any())
								{
									<p style="padding:20px; text-align:center;">No trainers available.</p>
								}

							</div>
						</div>
					</div>

					<!-- REVIEWS TAB -->
					<div class="tab-content" data-tab-panel="reviews">
						<div class="card">
							<h3>Customer Reviews</h3>
							<div class="card-body" style="text-align:center; padding:40px;">
								<div style="font-size: 48px;">⭐</div>
								<h4>@Model.Rating.ToString("0.0") ⭐ — (@Model.ReviewsCount reviews)</h4>
							</div>
						</div>
					</div>

				</div>
				<!-- END LEFT SIDE -->
				<!-- RIGHT SIDE -->
				<div class="right-side">
					<div class="gym-info">

						<h1>@Model.Name</h1>
						<br />

						<div class="gym-rating">
							⭐ <strong>@Model.Rating.ToString("0.0")</strong>
							<span style="color: var(--muted);">(@Model.ReviewsCount reviews)</span>
						</div>

						<br />

						<div class="info-row">📍 @Model.Address</div><br />
						<div class="info-row">🕒 @Model.OpeningHours</div><br />
						<div class="info-row">📞 @Model.Phone</div><br />
						<div class="info-row">✉️ @Model.Email</div><br />

						<a href="/Bookings/Create?gymId=@Model.Id" class="btn btn-primary" style="margin-top:12px; width:100%;">Book a Session</a>

						<form method="post" asp-controller="Favorites" asp-action="Add">
							<input type="hidden" name="gymId" value="@Model.Id" />
							<button class="btn btn-outline-primary" style="margin-top:12px; width:100%;">
								❤️ Add to Favorites
							</button>
						</form>


					</div>
				</div>
				<!-- END RIGHT SIDE -->

			</div>
		</div>
	</section>

	<script>
		document.querySelectorAll('.thumbnail').forEach(t => {
			t.addEventListener('click', () => {
				document.querySelector('.main-image').src = t.src;
			});
		});
	</script>

</body>
</html>
